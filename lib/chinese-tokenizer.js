var ChineseTokenizer=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const{readFileSync:r}=n(1),i=n(2);t.loadFile=function(e){return t.load(r(e,"utf-8"))},t.load=function(e){let t=new i;return t.load(e),function(e){let n=[],r=0,i=e=>{let r=t.get(e);n.push({traditional:r[0]?r[0].traditional:e,simplified:r[0]?r[0].simplified:e,matches:r.map(({pinyin:e,pinyinPretty:t,english:n})=>({pinyin:e,pinyinPretty:t,english:n}))})};for(;r<e.length;){if(r!==e.length-1){let n=e.substr(r,2),l=t.getPrefix(n),u=!1,o=null;l.sort((e,t)=>t.traditional.length-e.traditional.length);for(let t of l){let n=e.substr(r,t.traditional.length);if([t.traditional,t.simplified].includes(n)){i(n),u=!0,o=n;break}}if(u){r+=o.length;continue}}i(e[r]),r++}return n}}},function(e,t){},function(e,t,n){const{prettify:r}=n(3);function i(e){let t=e.match(/^(\S+)\s(\S+)\s\[([^\]]+)\]\s\/(.+)\//);if(null==t)return;let[,n,i,l,u]=t;return{traditional:n,simplified:i,pinyin:l=l.replace(/u:/g,"ü"),pinyinPretty:r(l),english:u}}class l{constructor(){this.content={}}getKeyObject(e,t=!1){let n=""===(e=e.toString())?[e]:e.split(""),r=this.content;for(let e of n){if(null==r[e]){if(!t)return{};r[e]={}}r=r[e]}return r}get(e){return this.getKeyObject(e).values||[]}getPrefix(e){let t=(e,n=null)=>{null==n&&(n=this.getKeyObject(e));let r=n.values?[...n.values]:[];for(let i in n)"values"!==i&&null!=n[i]&&r.push(...t(e+i,n[i]));return r};return t(e)}push(e,t){let n=this.getKeyObject(e,!0);return null==n.values&&(n.values=[]),n.values.includes(t)||n.values.push(t),this}}e.exports=class{load(e){this.trie=new l;let t=e.split("\n");for(let e of t){if(""===e.trim()||"#"===e[0])continue;let t=i(e);null!=t&&(this.trie.push(t.simplified,t),this.trie.push(t.traditional,t))}}get(e){return this.trie.get(e)}getPrefix(e){return this.trie.getPrefix(e)}}},function(e,t){var n={a:["ā","á","ǎ","à"],e:["ē","é","ě","è"],u:["ū","ú","ǔ","ù"],i:["ī","í","ǐ","ì"],o:["ō","ó","ǒ","ò"],"ü":["ǖ","ǘ","ǚ","ǜ"]},r=["i","u","ü"];e.exports.prettify=function(e){for(var t=(e=e.replace("v","ü")).split(" "),i=0;i<t.length;i++){var l=t[i],u=parseInt(l[l.length-1]);if(u<=0||u>5)console.error("invalid tone number:",u,"in",l);else if(5===u)t[i]=l.slice(0,l.length-1);else for(var o=0;o<l.length;o++){var s=l[o],a=l[o+1];if(n[s]){var f,c;c=n[a]&&r.indexOf(s)>=0?a:s,f=l.replace(c,n[c][u-1]),t[i]=f.slice(0,f.length-1);break}}}return t.join(" ")}}]);